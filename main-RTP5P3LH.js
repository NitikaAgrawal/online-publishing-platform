import{a as Z}from"./chunk-VMRKHSNJ.js";import{a as H}from"./chunk-UXCM5UJJ.js";import"./chunk-3ILFL4BD.js";import{a as h}from"./chunk-CUOD727F.js";import{Aa as w,Ba as B,Ca as O,Fa as R,Ha as u,Ia as k,Ja as A,K as a,La as N,M as b,Ma as I,Na as L,R as c,Ra as T,S as s,T as C,Ta as D,V as i,W as n,X as d,Z as S,_ as P,ba as r,da as V,na as W,ra as y,ta as F,u as p,va as z,ya as U,za as _}from"./chunk-PUGWSKDQ.js";import"./chunk-GAL4ENT6.js";var M=()=>{let e=p(h),l=p(_);return e.isAuthenticated()?!0:l.createUrlTree(["/login"])};function te(e,l){e&1&&(i(0,"span"),r(1,"Email is required"),n())}function ne(e,l){e&1&&(i(0,"span"),r(1,"Please enter a valid email"),n())}function ie(e,l){if(e&1&&(i(0,"div",18),c(1,te,2,0,"span",19)(2,ne,2,0,"span",19),n()),e&2){let o,t,m=P();a(),s("ngIf",(o=m.loginForm.get("email"))==null||o.errors==null?null:o.errors.required),a(),s("ngIf",(t=m.loginForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function oe(e,l){e&1&&(i(0,"div",18),r(1," Password is required "),n())}var G=class e{fb=p(T);authService=p(h);router=p(_);loginForm=this.fb.group({email:["",[u.required,u.email]],password:["",u.required]});onSubmit(){if(this.loginForm.valid){let{email:l,password:o}=this.loginForm.value;l&&o&&this.authService.login(l,o)}}loginWithGoogle(){this.authService.loginWithGoogle()}loginWithFacebook(){this.authService.loginWithFacebook()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=b({type:e,selectors:[["app-login"]],decls:31,vars:8,consts:[[1,"auth-container"],[1,"auth-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email"],["class","validation-error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password"],["type","submit",1,"auth-button",3,"disabled"],[1,"social-login"],[1,"divider"],[1,"social-button","google",3,"click"],["src","/assets/google-icon.png","alt","Google"],[1,"social-button","facebook",3,"click"],["src","/assets/facebook-icon.png","alt","Facebook"],[1,"auth-footer"],["routerLink","/register"],[1,"validation-error"],[4,"ngIf"]],template:function(o,t){if(o&1&&(i(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Login"),n(),i(4,"form",2),S("ngSubmit",function(){return t.onSubmit()}),i(5,"div",3)(6,"label",4),r(7,"Email"),n(),d(8,"input",5),c(9,ie,3,2,"div",6),n(),i(10,"div",3)(11,"label",7),r(12,"Password"),n(),d(13,"input",8),c(14,oe,2,0,"div",6),n(),i(15,"button",9),r(16,"Login"),n()(),i(17,"div",10)(18,"p",11),r(19,"Or continue with"),n(),i(20,"button",12),S("click",function(){return t.loginWithGoogle()}),d(21,"img",13),r(22," Continue with Google "),n(),i(23,"button",14),S("click",function(){return t.loginWithFacebook()}),d(24,"img",15),r(25," Continue with Facebook "),n()(),i(26,"div",16)(27,"p"),r(28,"Don't have an account? "),i(29,"a",17),r(30,"Register"),n()()()()()),o&2){let m,g,f,v;a(4),s("formGroup",t.loginForm),a(4),C("invalid",((m=t.loginForm.get("email"))==null?null:m.invalid)&&((m=t.loginForm.get("email"))==null?null:m.touched)),a(),s("ngIf",((g=t.loginForm.get("email"))==null?null:g.invalid)&&((g=t.loginForm.get("email"))==null?null:g.touched)),a(4),C("invalid",((f=t.loginForm.get("password"))==null?null:f.invalid)&&((f=t.loginForm.get("password"))==null?null:f.touched)),a(),s("ngIf",((v=t.loginForm.get("password"))==null?null:v.invalid)&&((v=t.loginForm.get("password"))==null?null:v.touched)),a(),s("disabled",t.loginForm.invalid)}},dependencies:[F,y,D,N,R,k,A,I,L,O,w],styles:['.social-login[_ngcontent-%COMP%]{margin:1.5rem 0;text-align:center}.social-login[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{position:relative;margin:1.5rem 0;color:#7f8c8d}.social-login[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .social-login[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;width:40%;height:1px;background:#ddd}.social-login[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before{left:0}.social-login[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{right:0}.social-login[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:none;border-radius:4px;font-size:1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;margin-bottom:.75rem;transition:background-color .3s}.social-login[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:10px}.social-login[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]{background-color:#4285f4;color:#fff}.social-login[_ngcontent-%COMP%]   .social-button.google[_ngcontent-%COMP%]:hover{background-color:#3367d6}.social-login[_ngcontent-%COMP%]   .social-button.facebook[_ngcontent-%COMP%]{background-color:#3b5998;color:#fff}.social-login[_ngcontent-%COMP%]   .social-button.facebook[_ngcontent-%COMP%]:hover{background-color:#2d4373}']})};function re(e,l){e&1&&(i(0,"div",15),r(1," Name is required "),n())}function le(e,l){e&1&&(i(0,"span"),r(1,"Email is required"),n())}function ae(e,l){e&1&&(i(0,"span"),r(1,"Please enter a valid email"),n())}function me(e,l){if(e&1&&(i(0,"div",15),c(1,le,2,0,"span",16)(2,ae,2,0,"span",16),n()),e&2){let o,t,m=P();a(),s("ngIf",(o=m.registerForm.get("email"))==null||o.errors==null?null:o.errors.required),a(),s("ngIf",(t=m.registerForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function se(e,l){e&1&&(i(0,"span"),r(1,"Password is required"),n())}function pe(e,l){e&1&&(i(0,"span"),r(1," Password must be at least 6 characters "),n())}function ce(e,l){if(e&1&&(i(0,"div",15),c(1,se,2,0,"span",16)(2,pe,2,0,"span",16),n()),e&2){let o,t,m=P();a(),s("ngIf",(o=m.registerForm.get("password"))==null||o.errors==null?null:o.errors.required),a(),s("ngIf",(t=m.registerForm.get("password"))==null||t.errors==null?null:t.errors.minlength)}}function de(e,l){if(e&1&&(i(0,"div",17),r(1),n()),e&2){let o=P();a(),V(" ",o.registrationError," ")}}var q=class e{fb=p(T);authService=p(h);router=p(_);registerForm=this.fb.group({name:["",u.required],email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]]});registrationError=null;isRegistering=!1;onSubmit(){if(this.registerForm.valid){this.isRegistering=!0,this.registrationError=null;let{name:l,email:o,password:t}=this.registerForm.value;l&&o&&t&&(this.authService.register({name:l,email:o,password:t})?this.router.navigate(["/login"]):this.registrationError="Registration failed. Please try again."),this.isRegistering=!1}}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=b({type:e,selectors:[["app-register"]],decls:28,vars:13,consts:[[1,"auth-container"],[1,"auth-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Enter your name"],["class","validation-error",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password"],["class","error-message",4,"ngIf"],["type","submit",1,"auth-button",3,"disabled"],[1,"auth-footer"],["routerLink","/login"],[1,"validation-error"],[4,"ngIf"],[1,"error-message"]],template:function(o,t){if(o&1&&(i(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Register"),n(),i(4,"form",2),S("ngSubmit",function(){return t.onSubmit()}),i(5,"div",3)(6,"label",4),r(7,"Name"),n(),d(8,"input",5),c(9,re,2,0,"div",6),n(),i(10,"div",3)(11,"label",7),r(12,"Email"),n(),d(13,"input",8),c(14,me,3,2,"div",6),n(),i(15,"div",3)(16,"label",9),r(17,"Password"),n(),d(18,"input",10),c(19,ce,3,2,"div",6),n(),c(20,de,2,1,"div",11),i(21,"button",12),r(22),n()(),i(23,"div",13)(24,"p"),r(25,"Already have an account? "),i(26,"a",14),r(27,"Login"),n()()()()()),o&2){let m,g,f,v,x,E;a(4),s("formGroup",t.registerForm),a(4),C("invalid",((m=t.registerForm.get("name"))==null?null:m.invalid)&&((m=t.registerForm.get("name"))==null?null:m.touched)),a(),s("ngIf",((g=t.registerForm.get("name"))==null?null:g.invalid)&&((g=t.registerForm.get("name"))==null?null:g.touched)),a(4),C("invalid",((f=t.registerForm.get("email"))==null?null:f.invalid)&&((f=t.registerForm.get("email"))==null?null:f.touched)),a(),s("ngIf",((v=t.registerForm.get("email"))==null?null:v.invalid)&&((v=t.registerForm.get("email"))==null?null:v.touched)),a(4),C("invalid",((x=t.registerForm.get("password"))==null?null:x.invalid)&&((x=t.registerForm.get("password"))==null?null:x.touched)),a(),s("ngIf",((E=t.registerForm.get("password"))==null?null:E.invalid)&&((E=t.registerForm.get("password"))==null?null:E.touched)),a(),s("ngIf",t.registrationError),a(),s("disabled",t.registerForm.invalid||t.isRegistering),a(),V(" ",t.isRegistering?"Registering...":"Register"," ")}},dependencies:[F,y,D,N,R,k,A,I,L,O,w],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:20px}.auth-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 10px #0000001a;width:100%;max-width:400px}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}input.invalid[_ngcontent-%COMP%]{border-color:#f44}.validation-error[_ngcontent-%COMP%]{color:#f44;font-size:.875rem;margin-top:.25rem}.auth-button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#4285f4;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s}.auth-button[_ngcontent-%COMP%]:hover{background-color:#3367d6}.auth-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem;font-size:.875rem}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4285f4;text-decoration:none}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Q=[{path:"",redirectTo:"/register",pathMatch:"full"},{path:"articles",component:Z},{path:"login",component:G},{path:"register",component:q},{path:"create-post",component:H},{path:"articles",loadComponent:()=>import("./chunk-WHA7I4VZ.js").then(e=>e.ArticleListComponent),canActivate:[M]},{path:"articles/:id",loadComponent:()=>import("./chunk-7B4JPGWR.js").then(e=>e.ArticleDetailComponent),canActivate:[M]},{path:"authors",loadComponent:()=>import("./chunk-FAY7RV2O.js").then(e=>e.AuthorListComponent),canActivate:[M]},{path:"create-article",loadComponent:()=>import("./chunk-5XJ5S5QB.js").then(e=>e.ArticleEditorComponent),canActivate:[M]},{path:"create-post",loadComponent:()=>import("./chunk-OPNKSDUZ.js").then(e=>e.CreatePostComponent),canActivate:[M]},{path:"**",redirectTo:"/articles"}];var X={providers:[W({eventCoalescing:!0}),B(Q)]};var j=class e{authService=p(h);router=p(_);title="online-publishing";currentUser=this.authService.getCurrentUser;isAuthenticated=this.authService.isAuthenticated;logout(){this.authService.logout()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=b({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"main"],[1,"content"]],template:function(o,t){o&1&&(i(0,"main",0)(1,"div",1),d(2,"router-outlet"),n()())},dependencies:[F,U],encapsulation:2})};z(j,X).catch(e=>console.error(e));
