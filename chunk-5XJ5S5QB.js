import{a as _,b as D}from"./chunk-3ILFL4BD.js";import{a as g}from"./chunk-CUOD727F.js";import{Ea as v,Fa as E,Ha as a,Ia as S,Ja as C,K as c,La as y,M as f,Ma as x,Na as F,Ra as k,S as d,Ta as N,Ua as A,V as i,W as e,X as l,Z as u,ba as r,ta as b,u as m,za as h}from"./chunk-PUGWSKDQ.js";import"./chunk-GAL4ENT6.js";var M=class p{fb=m(k);articleService=m(A);authService=m(g);router=m(h);editorForm=this.fb.group({title:["",[a.required,a.maxLength(200)]],description:["",[a.required,a.maxLength(500)]],content:["",a.required],tags:[[]],isFeatured:[!1],isEditorsPick:[!1],publishNow:[!0],scheduledDate:[""],status:["published"]});quillModules={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],["link","image","video"]]};updateTags(t){let n=t.target.value.split(",").map(s=>s.trim()).filter(s=>s);this.editorForm.patchValue({tags:n})}onSubmit(){if(this.editorForm.valid){let t=this.editorForm.value,o=this.authService.getCurrentUser();if(!o)return;let n={title:t.title,description:t.description,content:t.content,authorId:o.id,tags:t.tags||[],isFeatured:t.isFeatured||!1,isEditorsPick:t.isEditorsPick||!1,status:t.status||"published"};this.articleService.createArticle(n),this.router.navigate(["/articles"])}}static \u0275fac=function(o){return new(o||p)};static \u0275cmp=f({type:p,selectors:[["app-article-editor"]],decls:31,vars:2,consts:[[1,"editor-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","placeholder","Enter article title"],["for","description"],["id","description","formControlName","description","placeholder","Brief description of your article","rows","3"],["formControlName","content","placeholder","Write your article content here...",3,"modules"],[1,"form-row"],["for","tags"],["type","text","id","tags","placeholder","technology, business, etc.",3,"change"],[1,"form-group","checkbox-group"],["type","checkbox","formControlName","isFeatured"],["type","checkbox","formControlName","isEditorsPick"],[1,"form-actions"],["type","button",1,"secondary-button"],["type","submit",1,"primary-button"]],template:function(o,n){o&1&&(i(0,"div",0)(1,"form",1),u("ngSubmit",function(){return n.onSubmit()}),i(2,"div",2)(3,"label",3),r(4,"Title"),e(),l(5,"input",4),e(),i(6,"div",2)(7,"label",5),r(8,"Description"),e(),l(9,"textarea",6),e(),i(10,"div",2)(11,"label"),r(12,"Content"),e(),l(13,"quill-editor",7),e(),i(14,"div",8)(15,"div",2)(16,"label",9),r(17,"Tags (comma separated)"),e(),i(18,"input",10),u("change",function(T){return n.updateTags(T)}),e()(),i(19,"div",11)(20,"label"),l(21,"input",12),r(22," Featured "),e(),i(23,"label"),l(24,"input",13),r(25," Editor's Pick "),e()()(),i(26,"div",14)(27,"button",15),r(28,"Save Draft"),e(),i(29,"button",16),r(30,"Publish Article"),e()()()()),o&2&&(c(),d("formGroup",n.editorForm),c(12),d("modules",n.quillModules))},dependencies:[b,N,y,E,v,S,C,x,F,D,_],encapsulation:2})};export{M as ArticleEditorComponent};
